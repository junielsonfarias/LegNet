# ================================================
# CONFIGURACAO PARA VERCEL + SUPABASE (MULTI-TENANT)
# ================================================
# Copie este arquivo para .env.local (desenvolvimento)
# ou configure as variaveis no dashboard da Vercel (producao)
#
# IMPORTANTE: Este sistema suporta multi-tenancy!
# Cada Câmara pode ter seu próprio banco de dados e deploy.
# Veja docs/NOVA-CAMARA.md para instruções completas.

# ================================================
# BANCO DE DADOS - SUPABASE (OBRIGATORIO)
# ================================================
# Encontre em: Supabase Dashboard > Project Settings > Database
# IMPORTANTE: Cada Câmara DEVE ter seu próprio projeto Supabase

# URL de conexao com pooling (para serverless)
# Formato: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-sa-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true
DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-0-sa-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# URL direta (para migrations)
# Formato: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-sa-east-1.pooler.supabase.com:5432/postgres
DIRECT_URL="postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-0-sa-east-1.pooler.supabase.com:5432/postgres"

# ================================================
# NEXTAUTH.JS - AUTENTICACAO (OBRIGATORIO)
# ================================================
# URL do site (mude para seu dominio Vercel)
NEXTAUTH_URL="https://seu-projeto.vercel.app"

# Chave secreta (gere com: openssl rand -base64 32)
# IMPORTANTE: Gere uma chave ÚNICA para cada Câmara!
NEXTAUTH_SECRET="sua-chave-secreta-super-segura-de-32-caracteres-minimo"

# ================================================
# IDENTIFICACAO DA CAMARA (OBRIGATORIO)
# ================================================
# Estas variáveis definem a identidade da Câmara
# PERSONALIZE para cada tenant!

# Nome completo da Câmara (usado em títulos, metadados, 2FA, etc)
SITE_NAME="Câmara Municipal de [Sua Cidade]"

# URL do site (usado em metadados e links canônicos)
SITE_URL="https://seu-projeto.vercel.app"

# Descrição do site (opcional, para SEO)
SITE_DESCRIPTION="Portal Institucional da Câmara Municipal de [Sua Cidade] - Transparência, Democracia e Cidadania"

# Verificação do Google Search Console (opcional)
GOOGLE_SITE_VERIFICATION=""

# ================================================
# VARIAVEIS PUBLICAS (EXPOSTAS NO CLIENTE)
# ================================================
# Prefixo NEXT_PUBLIC_ expõe a variável para o navegador

# Nome da Câmara (fallback para componentes client-side)
NEXT_PUBLIC_SITE_NAME="Câmara Municipal de [Sua Cidade]"

# URL do site (fallback para componentes client-side)
NEXT_PUBLIC_SITE_URL="https://seu-projeto.vercel.app"

# ================================================
# EMAIL (OPCIONAL)
# ================================================
# Configure se precisar de recuperacao de senha
# Pode ser compartilhado entre câmaras ou individual

# EMAIL_SERVER_HOST="smtp.gmail.com"
# EMAIL_SERVER_PORT=587
# EMAIL_SERVER_USER="seu-email@gmail.com"
# EMAIL_SERVER_PASSWORD="sua-senha-de-app"
# EMAIL_FROM="Câmara Municipal <noreply@camara.gov.br>"

# ================================================
# UPLOAD DE ARQUIVOS (OPCIONAL)
# ================================================
# Para uploads, use Supabase Storage (cada projeto tem o seu)

# SUPABASE_URL="https://[PROJECT-REF].supabase.co"
# SUPABASE_ANON_KEY="sua-anon-key"
# SUPABASE_SERVICE_ROLE_KEY="sua-service-role-key"

# ================================================
# LOGS E AMBIENTE
# ================================================
NODE_ENV="production"
LOG_LEVEL="info"

# ================================================
# GUIA RAPIDO: NOVA CAMARA
# ================================================
# 1. Crie um novo projeto no Supabase (https://supabase.com)
# 2. Copie as URLs de conexão (DATABASE_URL e DIRECT_URL)
# 3. Gere uma nova NEXTAUTH_SECRET: openssl rand -base64 32
# 4. Personalize SITE_NAME e SITE_URL
# 5. Crie um novo projeto na Vercel
# 6. Configure todas as variáveis de ambiente
# 7. Faça o deploy
# 8. Execute npm run db:push para criar as tabelas
# 9. Acesse /admin para configurar os dados institucionais
#
# Documentação completa: docs/NOVA-CAMARA.md

# ================================================
# COMO CONFIGURAR NO SUPABASE
# ================================================
# 1. Crie um projeto em https://supabase.com
# 2. Va em Project Settings > Database
# 3. Copie "Connection string" (URI)
# 4. Para DATABASE_URL: use a porta 6543 (pooling)
# 5. Para DIRECT_URL: use a porta 5432 (direct)
# 6. Adicione ?pgbouncer=true no DATABASE_URL
#
# Exemplo:
# DATABASE_URL="postgresql://postgres.abc123:SuaSenha@aws-0-sa-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true"
# DIRECT_URL="postgresql://postgres.abc123:SuaSenha@aws-0-sa-east-1.pooler.supabase.com:5432/postgres"

# ================================================
# COMO CONFIGURAR NA VERCEL
# ================================================
# 1. Va em seu projeto na Vercel
# 2. Settings > Environment Variables
# 3. Adicione cada variavel listada aqui
# 4. Marque "Production", "Preview" e "Development"
# 5. Faca redeploy do projeto
